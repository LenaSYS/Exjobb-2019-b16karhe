<!doctype html>
<html ng-app="cartApp"> <!-- Starting AngularJS -->
    <head>
        <link rel="stylesheet" type="text/css" href="../style.css">
        <title>First ANGULAR</title>
        <script src="angular.js"></script>
        <script src="../model.js"></script>
        <script src="ctrl.js"></script>
    </head>
    <body>
        <h1> Kundvagn del√¢ angular </h1>
        <div ng-controller="cartCtrl"> <!-- Link to the controller. -->
            <!-- {{products}} to see products inside cart-->
            <!-- {{extaProducts}} to see products outside of the cart-->
            <ol>
                <h2>Products:</h2>
                <li ng-repeat="product in products | filter:{selected:true}"> <!-- Listing of items inside products as product. The data is retrived from the model through the controller. --> 
                    {{product.name}} - 
                    "{{product.description}}" -  
                    {{product.price}}
                    <button ng-disabled="product.amount == 1" ng-click="product.amount = product.amount - 1">[ - ]</button>
                    {{ product.amount }}
                    <button ng-disabled="product.amount == product.availableAmount" ng-click="product.amount = product.amount + 1">[ + ]</button>
                    <button ng-click="product.selected = false;">[ X ]</button>
                </li>
                {{newProduct.name}}   
                {{newProduct.description}} -  
                {{newProduct.price}}  
            </ol>
            <form ng-submit="newProduct = 0">
                <div ng-repeat="product in products | filter:{selected:false}">
                    <input type="radio" ng-click="$parent.id = products.indexOf(product)" ng-value="product"  ng-model="$parent.newProduct">
                    <label>{{product.name}} {{product.description}} {{product.price}}</label>
                </div>
                <button ng-disabled="newProduct == 0" ng-click="products[id].amount = 1; products[id].selected = true; ">Add product</button>
            </form>
        </div> 
    </body>
</html>