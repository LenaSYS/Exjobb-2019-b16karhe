<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="../style.css">
        <title>First VUE</title>
        <script src="dist/vue.js"></script>
    </head>
    <body>
        <h1>Vue shop</h1>
        <div id="cartApp"> <!-- Link to the ViewModel which starts Vue. -->
            <!-- {{products}} to see products inside cart-->
            <!-- {{extaProducts}} to see products outside of the cart-->
            <ol>
                <h3>PRIS: {{ priceCart }} kr <label v-if="newProduct">+ {{newProduct.price}} = {{priceCart + newProduct.price}}   kr</label> </h3>
                <li v-for="(product, index) in inCart"> <!-- Listing of items inside products as product. The data is retrived from the model through the ViewModel. -->
                    {{ product.stockCode }} - 
                    "{{ product.description }}" - 
                    {{ product.price }} kr/st
                    <button :disabled="product.selectedQuantity == 1" v-on:click="product.selectedQuantity--">[ - ]</button>
                    {{ product.selectedQuantity }}
                    <button :disabled="product.selectedQuantity == product.quantity" v-on:click="product.selectedQuantity++">[ + ]</button>
                    <button v-on:click="product.selectedQuantity = null">[ X ]</button>
                    {{ product.selectedQuantity * product.price }} kr
                </li>
                {{newProduct.stockCode}} - 
                {{newProduct.description}}
            </ol>
            <form v-on:submit.prevent="newProduct = false">
                <h2>Liknande produkter:</h2>
                <div v-for="(product, index) in outCart"  v-if="index < 5"> <!-- Listing 5 prodcuts outside of the cart by limiting the itteration through the index -->
                    <input type="radio" v-on:click="id = index" v-bind:value="product"  v-model="newProduct">
                    <label>
                        {{ product.stockCode }} 
                        "{{ product.description }}" 
                        {{ product.price }} kr/st
                    </label>
                </div>
                <button :disabled="newProduct == false" v-on:click="outCart[id].selectedQuantity = 1">Add product</button>
            </form>
        </div> 
        <script src="../model.js"></script> 
        <script src="vm.js"></script>
    </body>
</html>